<ion-header class="listing-header">
  <ion-navbar>
    <button ion-button menuToggle>
      <ion-icon name="menu"></ion-icon>
    </button>
    <ion-title>
      QCF
    </ion-title>
  </ion-navbar>
</ion-header>

<ion-content class="listing-content">
  <preload-image [ratio]="{w:0, h:0}" class="image-heading" [src]="listing.banner_image"></preload-image>
 
  <h4 class="categories-title">BROWSE CATEGORIES</h4>
  
  <ion-row class="grid-categories">
    <ion-col width-50 class="category-item" *ngFor="let category of listing.categories">
      <background-image tappable class="category-heading" [src]="category.image" (click)="goToFeed(category)">
        <ion-row class="heading-row">
          <ion-col no-padding width-100>
            <h2 class="category-title">{{category.title}}</h2>
          </ion-col>
        </ion-row>
      </background-image>
    </ion-col>
  </ion-row>

  <h3 class="activities-title">CHARITABLE THEMES</h3>
  <ion-list>
    <div *ngFor="let group of groups">
      
      <ion-item class="item-accordion-title">
        <ion-row>
          <ion-col col-8>  
              <span (click)="toggleGroup(group)">
                  
                    <ion-icon name= "{{isGroupShown(group) ? 'arrow-up' : 'arrow-down'}}"></ion-icon>
                </span>
              &nbsp;
              {{group.name}}
              
          </ion-col>
          <ion-col col-4>
            <ion-buttons end>      
                <button ion-button clear small color="light" (click)="doJoinTheme()" [hidden]="group.status">
                  <ion-icon name= "checkmark"></ion-icon>
                </button>
                <button ion-button clear small color="light" (click)="doLeaveTheme()" [hidden]="!group.status">
                  <ion-icon name= "close"></ion-icon>
                </button>
          </ion-buttons>
          </ion-col>
      </ion-row>
      </ion-item>
      <ion-item class="item-accordion"
            *ngFor="let item of group.areas"
            [hidden] ="!isGroupShown(group)">
        Area {{item}}
      </ion-item>
    </div>
  </ion-list>


</ion-content>
